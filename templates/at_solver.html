<!--<!DOCTYPE html>-->
<!--<html lang="en">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <title>Вывод консоли в реальном времени</title>-->
<!--    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">-->
<!--    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js"></script>-->
<!--</head>-->
<!--<body>-->

<!--<div class="container mt-5">-->
<!--    <h1>Совместное функционирование</h1>-->
<!--    <div id="output" class="alert alert-secondary" style="height: 300px; overflow-y: scroll;">-->
<!--        <pre></pre>-->
<!--    </div>-->
<!--    <button class="btn btn-primary" onclick="runScript()">Запустить АТ-Решатель и Планировщик</button>-->
<!--</div>-->

<!--<script>-->
<!--    var socket = io();-->

<!--    // Функция запуска скрипта-->
<!--    function runScript() {-->
<!--        document.getElementById('output').querySelector('pre').textContent = '';  // Очищаем вывод-->
<!--        socket.emit('run_script');  // Запрос на запуск скрипта-->
<!--    }-->

<!--    // Получение данных от сервера-->
<!--    socket.on('console_output', function(data) {-->
<!--        const output = document.getElementById('output').querySelector('pre');-->
<!--        output.textContent += data + "\n";  // Добавляем новую строку-->
<!--        output.scrollTop = output.scrollHeight;  // Автоматическая прокрутка вниз-->
<!--    });-->
<!--</script>-->

<!--</body>-->
<!--</html>-->




<!--ВЕРСИЯ №2-->

<!--<!DOCTYPE html>-->
<!--<html lang="en">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <title>AT Solver Results</title>-->
<!--</head>-->
<!--<body>-->
<!--    <h1>AT Solver Results</h1>-->
<!--    <button id="fetchResults">Fetch Results</button>-->
<!--    <pre id="resultsContainer">No results yet...</pre>-->

<!--    <script>-->
<!--        document.getElementById('fetchResults').addEventListener('click', async () => {-->
<!--            try {-->
<!--                const response = await fetch('/api/results');-->
<!--                if (response.ok) {-->
<!--                    const results = await response.json();-->
<!--                    document.getElementById('resultsContainer').textContent = JSON.stringify(results, null, 2);-->
<!--                } else {-->
<!--                    document.getElementById('resultsContainer').textContent = "Results not available yet.";-->
<!--                }-->
<!--            } catch (err) {-->
<!--                console.error(err);-->
<!--                document.getElementById('resultsContainer').textContent = "Error fetching results.";-->
<!--            }-->
<!--        });-->
<!--    </script>-->
<!--</body>-->
<!--</html>-->




<!--ВЕРСИЯ №3-->

<!--<!DOCTYPE html>-->
<!--<html lang="en">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <meta name="viewport" content="width=device-width, initial-scale=1.0">-->
<!--    <title>Результаты выполнения</title>-->
<!--    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">-->
<!--    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js"></script>-->
<!--    <style>-->
<!--        body {-->
<!--            padding: 20px;-->
<!--            background-color: #f8f9fa;-->
<!--        }-->
<!--        .card {-->
<!--            margin-bottom: 20px;-->
<!--        }-->
<!--        pre {-->
<!--            background-color: #f1f1f1;-->
<!--            padding: 15px;-->
<!--            border-radius: 5px;-->
<!--        }-->
<!--        #results-container {-->
<!--            display: none;-->
<!--        }-->
<!--    </style>-->
<!--</head>-->
<!--<body>-->
<!--    <div class="container">-->
<!--        <h1 class="text-center mb-5">Результаты выполнения</h1>-->

<!--        &lt;!&ndash; Кнопка для запроса данных &ndash;&gt;-->
<!--        <div class="text-center mb-4">-->
<!--            <button id="fetchResults" class="btn btn-primary">Получить результаты</button>-->
<!--        </div>-->

<!--        &lt;!&ndash; Содержимое результатов &ndash;&gt;-->
<!--        <div id="results-container">-->
<!--            &lt;!&ndash; Solver Result &ndash;&gt;-->
<!--            <div class="card">-->
<!--                <div class="card-header bg-primary text-white">-->
<!--                    Solver Result-->
<!--                </div>-->
<!--                <div class="card-body">-->
<!--                    <pre id="solver-result"></pre>-->
<!--                </div>-->
<!--            </div>-->

<!--            &lt;!&ndash; WM Items &ndash;&gt;-->
<!--            <div class="card">-->
<!--                <div class="card-header bg-success text-white">-->
<!--                    Working Memory Items-->
<!--                </div>-->
<!--                <div class="card-body">-->
<!--                    <pre id="wm-items"></pre>-->
<!--                </div>-->
<!--            </div>-->

<!--            &lt;!&ndash; Goal &ndash;&gt;-->
<!--            <div class="card">-->
<!--                <div class="card-header bg-warning text-white">-->
<!--                    Goal-->
<!--                </div>-->
<!--                <div class="card-body">-->
<!--                    <pre id="goal"></pre>-->
<!--                </div>-->
<!--            </div>-->

<!--            &lt;!&ndash; Serialized Plan &ndash;&gt;-->
<!--            <div class="card">-->
<!--                <div class="card-header bg-info text-white">-->
<!--                    Serialized Plan-->
<!--                </div>-->
<!--                <div class="card-body">-->
<!--                    <pre id="serialized-plan"></pre>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->

<!--    <script>-->
<!--        // Функция для запроса данных с бэкенда и отображения-->
<!--        document.getElementById("fetchResults").addEventListener("click", async function() {-->
<!--            try {-->
<!--                // Выполняем запрос к серверу-->
<!--                const response = await fetch('/api/get_results');  // Ваш путь для получения результатов-->
<!--                if (!response.ok) {-->
<!--                    throw new Error(`Ошибка ${response.status}: ${response.statusText}`);-->
<!--                }-->

<!--                const data = await response.json();-->

<!--                // Отображаем данные-->
<!--                document.getElementById("solver-result").innerText = data.solver_result || 'Нет данных';-->
<!--                document.getElementById("wm-items").innerText = JSON.stringify(data.wm_items, null, 2) || 'Нет данных';-->
<!--                document.getElementById("goal").innerText = data.goal || 'Нет данных';-->
<!--                document.getElementById("serialized-plan").innerText = JSON.stringify(data.serialized_plan, null, 2) || 'Нет данных';-->

<!--                // Показываем контейнер с результатами-->
<!--                document.getElementById("results-container").style.display = 'block';-->
<!--            } catch (error) {-->
<!--                console.error("Ошибка при получении данных:", error);-->
<!--                alert("Не удалось получить результаты. Попробуйте снова.");-->
<!--            }-->
<!--        });-->
<!--    </script>-->
<!--</body>-->
<!--</html>-->


<!--Версия №4-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AT Solver Results</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f5f5f5;
        }
        h1 {
            text-align: center;
            color: #333;
        }
        button {
            display: block;
            margin: 20px auto;
            padding: 10px 20px;
            font-size: 16px;
            background-color: #007BFF;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        button:hover {
            background-color: #0056b3;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            padding: 20px;
        }
        .section {
            margin-bottom: 20px;
        }
        .section h2 {
            font-size: 18px;
            margin-bottom: 10px;
            color: #007BFF;
        }
        .section pre {
            background: #f0f0f0;
            padding: 10px;
            border-radius: 5px;
            overflow-x: auto;
        }
    </style>
</head>
<body>
    <h1>Совместное функционирование</h1>
    <button id="fetchResults">Запустить совместное функционирование</button>
    <div class="container" id="resultsContainer">
        <div class="section">
            <h2>Goal</h2>
            <pre id="goal">No results yet...</pre>
        </div>
        <div class="section">
            <h2>Serialized Plan</h2>
            <pre id="serializedPlan">No results yet...</pre>
        </div>
        <div class="section">
            <h2>Solver Result</h2>
            <pre id="solverResult">No results yet...</pre>
        </div>
        <div class="section">
            <h2>WM Items</h2>
            <pre id="wmItems">No results yet...</pre>
        </div>
    </div>

    <script>
        document.getElementById('fetchResults').addEventListener('click', async () => {
            try {
                const response = await fetch('/api/results');
                if (response.ok) {
                    const results = await response.json();

                    // Updating individual sections
                    document.getElementById('goal').textContent = results.goal || "Not available";
                    document.getElementById('serializedPlan').textContent = results.serialized_plan || "Not available";
                    document.getElementById('solverResult').textContent = JSON.stringify(results.solver_result, null, 2);
                    document.getElementById('wmItems').textContent = JSON.stringify(results.wm_items, null, 2);
                } else {
                    updateSectionsWithError("Results not available yet.");
                }
            } catch (err) {
                console.error(err);
                updateSectionsWithError("Error fetching results.");
            }
        });

        function updateSectionsWithError(message) {
            document.getElementById('goal').textContent = message;
            document.getElementById('serializedPlan').textContent = message;
            document.getElementById('solverResult').textContent = message;
            document.getElementById('wmItems').textContent = message;
        }
    </script>
</body>
</html>


