<Модель>
                                                                <!-- РЕСУРСЫ -->
    <!-- Ресурс парковка -->
    <Тип_ресурсов Имя_типа_ресурсов="Парковка" Вид_типа_ресурсов="Постоянные">
        <Параметр_типа Имя_параметра="Процент_заполнения" Тип_параметра="int" Умолчание="Случайное_число(0, 100)" />
        <Параметр_типа Имя_параметра="Средняя_задержка" Тип_параметра="int" Умолчание="Случайное_число(0, 10)" />
        <Параметр_типа Имя_параметра="Очередь_на_выезд" Тип_параметра="int" Умолчание="Случайное_число(1, 6)" />
        <Параметр_типа Имя_параметра="Очередь_на_въезд" Тип_параметра="int" Умолчание="Случайное_число(1, 6)" />
        <Параметр_типа Имя_параметра="Приоритетное_распределение_на_парковке" Тип_параметра="int" Умолчание="Случайное_число(1, 3)" />
    </Тип_ресурсов>

    <!-- Ресурс альтернативная парковка -->
    <Тип_ресурсов Имя_типа_ресурсов="Альтернативная_парковка" Вид_типа_ресурсов="Постоянные">
        <Параметр_типа Имя_параметра="Расстояние" Тип_параметра="int" Умолчание="Случайное_число(100, 5000)" />
        <Параметр_типа Имя_параметра="Процент_заполнения_альтернативной" Тип_параметра="int" Умолчание="Случайное_число(0, 100)" />
    </Тип_ресурсов>
    
    <!-- Ресурс транспортное средство -->
    <Тип_ресурсов Имя_типа_ресурсов="Транспортное_средство" Вид_типа_ресурсов="Постоянные">
        <Параметр_типа Имя_параметра="Состояние_тс" Тип_параметра="enum {В_пути, В_очереди, Припаркована, Едет_на_альтернативную_парковку, Стоит_на_парковке, Отправление}" Умолчание="В_пути" />
        <Параметр_типа Имя_параметра="Число_типа_состояния_тс" Тип_параметра="int" Умолчание="Случайное_число(1, 7)" />
        <Параметр_типа Имя_параметра="Приоритет_выезда_тс" Тип_параметра="int" Умолчание="Случайное_число(1, 3)" />
    </Тип_ресурсов>

    <!-- Ресурс диспетчер -->
    <Тип_ресурсов Имя_типа_ресурсов="Диспетчер" Вид_типа_ресурсов="Постоянные">
        <Параметр_типа Имя_параметра="Тип_события_у_диспетчера" Тип_параметра="enum {Обновление_ПО, Изменение_тарифной_политики, Не_требуется}" Умолчание="Не_требуется" />
        <Параметр_типа Имя_параметра="Число_типа_события_у_дисп" Тип_параметра="int" Умолчание="Случайное_число(1, 4)" />
    </Тип_ресурсов>

    <!-- Ресурс для создания такта -->
    <Тип_ресурсов Имя_типа_ресурсов="Такт" Вид_типа_ресурсов="Постоянные">
        <Параметр_типа Имя_параметра="Количество" Тип_параметра="int" 
            Умолчание="0" />
    </Тип_ресурсов>

    <!-- Экземпляры ресурсов -->
    <Ресурс Имя_ресурса="Парковка_1" Имя_типа_ресурсов="Парковка" Трассировка="Да"
        Начальные_значения="{*, *, *, *, *}" />

    <Ресурс Имя_ресурса="Парковка_2" Имя_типа_ресурсов="Парковка" Трассировка="Да"
        Начальные_значения="{*, *, *, *, *}" />
    
    <Ресурс Имя_ресурса="Альтернатива_1" Имя_типа_ресурсов="Альтернативная_парковка" Трассировка="Да"
        Начальные_значения="{*, *}" />

    <Ресурс Имя_ресурса="ТС_1" Имя_типа_ресурсов="Транспортное_средство" Трассировка="Да"
        Начальные_значения="{*, *, *}" />
    
    <Ресурс Имя_ресурса="ТС_2" Имя_типа_ресурсов="Транспортное_средство" Трассировка="Да"
        Начальные_значения="{*, *, *}" />
    
    <Ресурс Имя_ресурса="ТС_3" Имя_типа_ресурсов="Транспортное_средство" Трассировка="Да"
        Начальные_значения="{*, *, *}" />

    <Ресурс Имя_ресурса="Диспетчер_1" Имя_типа_ресурсов="Диспетчер" Трассировка="Да"
        Начальные_значения="{*, *}" />

    <Ресурс Имя_ресурса="Такт_1" Имя_типа_ресурсов="Такт" Трассировка="Да"
        Начальные_значения="{0}" />

                                                                <!-- ДЕЙСТВИЯ -->
    <!-- <Образец_операции Имя_образца="Инициализация_тс" Тип_образца="Правило" Трассировка="Да">
        <Релевантный_ресурс Имя_релевантного_ресурса="Текущее_тс" Описатель="Транспортное_средство" Статус_конвертора="Сохранить" Статус_конвертора_начала="" Статус_конвертора_конца=""/>
        <Тело_образца>
            <Релевантный_ресурс Имя_релевантного_ресурса="Текущее_Судно">
            <Правило_использования Предусловие="Текущее_Судно.Число_Статус_судна == 1" Convert_event="" Convert_rule="Текущее_Судно.Число_Типа_судна = Случайное_число(1, 3);" Convert_begin="" Convert_end=""/>
            </Релевантный_ресурс>
            <Релевантный_ресурс Имя_релевантного_ресурса="Текущее_Судно">
            <Правило_использования Предусловие="Текущее_Судно.Месяц_Прибытия > 12" Convert_event="" Convert_rule=" Текущее_Судно.Месяц_Прибытия = 1;" Convert_begin="" Convert_end=""/>
            </Релевантный_ресурс>
            <Релевантный_ресурс Имя_релевантного_ресурса="Текущее_Судно">
            <Правило_использования Предусловие="Текущее_Судно.Месяц_Отправки > 12" Convert_event="" Convert_rule=" Текущее_Судно.Месяц_Отправки = 1;" Convert_begin="" Convert_end=""/>
            </Релевантный_ресурс>
        </Тело_образца>
        <Время Тип="Точное" Закон="" Значение="1" Начало_интервала="" Конец_интервала=""/>
    </Образец_операции> -->
    
    <!-- Правило № 1 -->
    <!--Правило управления въездом на парковку (заполнение больше 70%)-->
    <Образец_операции Имя_образца="Отправление_Альтернативная_парковка" Тип_образца="Правило" Трассировка="Да">
        <Релевантный_ресурс Имя_релевантного_ресурса="Текущая_парковка" Описатель="Парковка" Статус_конвертора="Сохранить" Статус_конвертора_начала="" Статус_конвертора_конца=""/>
        <Релевантный_ресурс Имя_релевантного_ресурса="Текущая_альтернативная_парковка" Описатель="Альтернативная_парковка" Статус_конвертора="Сохранить" Статус_конвертора_начала="" Статус_конвертора_конца=""/>
        <Релевантный_ресурс Имя_релевантного_ресурса="Текущее_ТС" Описатель="Транспортное_средство" Статус_конвертора="Сохранить" Статус_конвертора_начала="" Статус_конвертора_конца=""/>
        <Тело_образца>
            <Релевантный_ресурс Имя_релевантного_ресурса="Текущая_парковка">
                <Правило_использования Предусловие="(Текущая_парковка.Процент_заполнения @more@ 70.0) @and@ Текущая_альтернативная_парковка.Расстояние @less@ 2000.0" 
                Convert_event="" Convert_rule="Текущее_ТС.Состояние_тс = Транспортное_средство.Enum_Состояние_тс.Едет_на_альтернативную_парковку;" Convert_begin="" 
                Convert_end=""/>
            </Релевантный_ресурс>
        </Тело_образца>
        <Время Тип="Точное" Закон="" Значение="1" Начало_интервала="" Конец_интервала=""/>
    </Образец_операции>

   <!--Правило № 2 -->
   <!--Правило управления въездом на парковку (заполнение меньше 70%)-->
    <Образец_операции Имя_образца="Гарантированная_парковка" Тип_образца="Правило" Трассировка="Да">
        <Релевантный_ресурс Имя_релевантного_ресурса="Текущая_парковка" Описатель="Парковка" Статус_конвертора="Сохранить" Статус_конвертора_начала="" Статус_конвертора_конца=""/>
        <Релевантный_ресурс Имя_релевантного_ресурса="Текущее_ТС" Описатель="Транспортное_средство" Статус_конвертора="Сохранить" Статус_конвертора_начала="" Статус_конвертора_конца=""/>
        <Тело_образца>
            <Релевантный_ресурс Имя_релевантного_ресурса="Текущая_парковка">
                <Правило_использования Предусловие="Текущая_парковка.Процент_заполнения @less@ 70.0" Convert_event="" Convert_rule="Текущее_ТС.Состояние_тс = Транспортное_средство.Enum_Состояние_тс.Припаркована;" Convert_begin="" Convert_end=""/>
            </Релевантный_ресурс>
            
        </Тело_образца>
        <Время Тип="Точное" Закон="" Значение="1" Начало_интервала="" Конец_интервала=""/>
    </Образец_операции>

<!-- предусловие - если 20 = случайное число от 1 до 20
процент заполнения = процент заполнения + (-20 +20) -->

    <!-- Правило № 3 -->
    <Образец_операции Имя_образца="Распределение_автомобилей_по_местам" Тип_образца="Правило" Трассировка="Да">
        <Релевантный_ресурс Имя_релевантного_ресурса="Текущая_парковка" Описатель="Парковка" Статус_конвертора="Сохранить" Статус_конвертора_начала="" Статус_конвертора_конца=""/>
        <Релевантный_ресурс Имя_релевантного_ресурса="Текущее_ТС" Описатель="Транспортное_средство" Статус_конвертора="Сохранить" Статус_конвертора_начала="" Статус_конвертора_конца=""/>
        <Тело_образца>
            <Релевантный_ресурс Имя_релевантного_ресурса="Текущая_парковка">
                <Правило_использования Предусловие="(Текущая_парковка.Процент_заполнения @more@ 70.0) @and@ (Текущая_парковка.Средняя_задержка @more@ 3.0)" Convert_event="" Convert_rule="Текущая_парковка.Приоритетное_распределение_на_парковке = 1;" Convert_begin="" Convert_end=""/>
            </Релевантный_ресурс>
        </Тело_образца>
        <Время Тип="Точное" Закон="" Значение="1" Начало_интервала="" Конец_интервала=""/>
    </Образец_операции>

    <!-- Правило № 4 -->
    <!-- Правило для включения приоритета выезжающим автомобилям -->
    <Образец_операции Имя_образца="Включение_приоритета_выезда" Тип_образца="Правило" Трассировка="Да">
        <Релевантный_ресурс Имя_релевантного_ресурса="Текущая_парковка" Описатель="Парковка" Статус_конвертора="Сохранить" Статус_конвертора_начала="" Статус_конвертора_конца=""/>
        <Релевантный_ресурс Имя_релевантного_ресурса="Текущее_ТС" Описатель="Транспортное_средство" Статус_конвертора="Сохранить" Статус_конвертора_начала="" Статус_конвертора_конца=""/>
        <Тело_образца>
            <Релевантный_ресурс Имя_релевантного_ресурса="Текущая_парковка">
                <Правило_использования Предусловие="Текущая_парковка.Очередь_на_въезд @more@ 3" Convert_event="" Convert_rule="Текущее_ТС.Приоритет_выезда_тс = 1;" Convert_begin="" Convert_end=""/>
            </Релевантный_ресурс>
        </Тело_образца>
        <Время Тип="Точное" Закон="" Значение="1" Начало_интервала="" Конец_интервала=""/>
    </Образец_операции> 

    <!-- Правило № 5 -->
    <Образец_операции Имя_образца="Подсчет_тактов" Тип_образца="Правило"
        Трассировка="Да">
        <Релевантный_ресурс Имя_релевантного_ресурса="Текущий_такт"
            Описатель="Такт" Статус_конвертора="Сохранить" Статус_конвертора_начала=""
            Статус_конвертора_конца="" />
        <Тело_образца>
            <Релевантный_ресурс Имя_релевантного_ресурса="Текущий_такт">
                <Правило_использования Предусловие="1==1" Convert_event=""
                    Convert_rule="Текущий_такт.Количество = Текущий_такт.Количество + 1;"
                    Convert_begin="" Convert_end="" />
            </Релевантный_ресурс>
        </Тело_образца>
        <Время Тип="Точное" Закон="" Значение="1" Начало_интервала="" Конец_интервала="" />
    </Образец_операции>

                                                            <!-- ОПЕРАЦИИ -->
    <Операция Имя_операции="Операция_1_1" Имя_образца="Альтернативная_парковка"
        Тело_операции="Альтернативная_парковка(Парковка_1, Альтернатива_1, ТС_1);" />
    <Операция Имя_операции="Операция_1_2" Имя_образца="Альтернативная_парковка"
        Тело_операции="Альтернативная_парковка(Парковка_1, Альтернатива_1, ТС_2);" />
    <Операция Имя_операции="Операция_1_3" Имя_образца="Гарантированная_парковка"
        Тело_операции="Гарантированная_парковка(Парковка_2, ТС_2);" />
    <Операция Имя_операции="Операция_1_4" Имя_образца="Гарантированная_парковка"
        Тело_операции="Гарантированная_парковка(Парковка_2, ТС_3);" />  

    <Операция Имя_операции="Операция_2_1" Имя_образца="Распределение_автомобилей_по_местам"
        Тело_операции="Распределение_автомобилей_по_местам(Парковка_1, ТС_1);" />
    <Операция Имя_операции="Операция_2_2" Имя_образца="Распределение_автомобилей_по_местам"
        Тело_операции="Распределение_автомобилей_по_местам(Парковка_2, ТС_2);" />

    <Операция Имя_операции="Операция_3_1" Имя_образца="Включение_приоритета_выезда"
        Тело_операции="Включение_приоритета_выезда(Парковка_1, ТС_1);" />
    <Операция Имя_операции="Операция_3_2" Имя_образца="Включение_приоритета_выезда"
        Тело_операции="Включение_приоритета_выезда(Парковка_2, ТС_3);" />

    <Операция Имя_операции="Операция_4_1" Имя_образца="Включение_приоритета_выезда"
        Тело_операции="Включение_приоритета_выезда(Парковка_1, ТС_1);" />
    <Операция Имя_операции="Операция_4_2" Имя_образца="Включение_приоритета_выезда"
        Тело_операции="Включение_приоритета_выезда(Парковка_2, ТС_2);" />
    
    <Операция Имя_операции="Операция_5_1" Имя_образца="Подсчет_тактов"
        Тело_операции="Подсчет_тактов(Такт_1);" />

    <Функция Имя_функции="" Возвращаемый_тип="" Тело_функции="">
        <Параметр_функции Имя_параметра_функции="" Тип_параметра_функции="" />
    </Функция>
</Модель>
